<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mm</title>
    <link rel="stylesheet" href="./css/三條線.css">
    <link rel="stylesheet" href="./css/連結顏色.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="./css/小圖示.css">
    <link rel="stylesheet" href="/css/響應式.css">
    <link rel="stylesheet" href="./css/幻燈片.css">
    <style>
        body {
            padding-top: 80px;
            /* 按鈕被上面蓋掉了 新增一個高度 */
        }
    </style>
</head>

<body>





    <!--  -->
    <div class="header">
        <div class="top-right-icons">
            <a href="#login" class="icon-btn" title="登入"><i class="fas fa-user"></i></a>
            <a href="#cart" class="icon-btn" title="購物車"><i class="fas fa-shopping-cart"></i></a>
            <a href="#search" class="icon-btn" title="搜尋"><i class="fas fa-search"></i></a>
        </div>
        <div>
            <h1 style="font-size: 50px;
         font-family:monospace ;
         text-align: center; 
         margin: auto;">*** </h1>
        </div>
        <hr style="border: 60px;">
    </div>
    <div class="tab-buttons">
        <button class="tablink" onclick="openPage('Home', this, 'red')" id="defaultOpen">HOMEPAGE</button>
        <button class="tablink" onclick="openPage('Cloth', this, 'green')">衣服</button>
        <button class="tablink" onclick="openPage('pants', this, 'blue')">褲子</button>
        <button class="tablink" onclick="openPage('shoes', this, 'orange')">鞋子</button>
    </div>
    <div id="Home" class="tabcontent">
        <h3>HOMEPAGE</h3>
        <p>..</p>
        <!-- 幻燈片 -->
        <div class="slideshow-container">

            <div class="mySlides fade">
                <div class="numbertext">1/4</div>
                <img src="./photo/登入畫面.png" style="width:100%;">
            </div>

            <div class="mySlides fade">
                <div class="numbertext">2/4</div>
                <img src="./photo/新手島.png" style="width: 100%;">
            </div>

            <div class="mySlides fade">
                <div class="numbertext">3/4</div>
                <img src="./photo/party.png" style="width: 100%;">
            </div>

            <div class="mySlides fade">
                <div class="numbertext">4/4</div>
                <img src="./photo/小巴.png" style="width: 100%;">
            </div>
            <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
            <a class="next" onclick="plusSlides(1)">&#10095;</a>
        </div>
        <br>
        <div style="text-align: center;">
            <span class="dot" onclick="currentSlide(1)"></span>
            <span class="dot" onclick="currentSlide(2)"></span>
            <span class="dot" onclick="currentSlide(3)"></span>
            <span class="dot" onclick="currentSlide(4)"></span>
        </div>
    </div>

    <!--  -->

    <div id="Cloth" class="tabcontent">
        <h3>衣服</h3>
        <p>Some news this fine day!</p>
    </div>

    <div id="pants" class="tabcontent">
        <h3>褲子</h3>
        <p>Get in touch, or swing by for a cup of coffee.</p>
    </div>

    <div id="shoes" class="tabcontent">
        <h3>鞋子</h3>
        <p>Who we are and what we do.</p>
    </div>

    <script>
        function openPage(pageName, Element, color) {
            let i, tabcontent, tablink;
            tabcontent = document.getElementsByClassName("tabcontent");
            for (i = 0; i < tabcontent.length; i++) {
                tabcontent[i].style.display = "none";
            }

            tablinks = document.getElementsByClassName("tablink");
            for (i = 0; i < tablinks.length; i++) {
                tablinks[i].style.backgroundColor = "";
            }
            document.getElementById(pageName).style.display = "block";
            Element.style.backgroundColor = color;
        }

        document.getElementById("defaultOpen").click();


        let ScrollTop = 0;
        let hideTimeout;

        window.addEventListener("scroll", function () {  //滾動時執行!
            const header = document.querySelector(".header"); //qu選取第一個類別的元素
            const currentScroll = window.scrollY; //js的屬性 回傳捲到頁面頂住的距離

            if (currentScroll <= 0) {
                header.classList.remove("hide"); //移除隱藏
                clearTimeout(hideTimeout); //取消延遲
                return;
            }

            // 往下滑
            if (currentScroll > ScrollTop) {
                clearTimeout(hideTimeout);
                hideTimeout = setTimeout(() => {
                    header.classList.add("hide");
                }, 300);
            } else {
                header.classList.remove("hide"); // 上滑馬上顯示
                clearTimeout(hideTimeout);
            }

            ScrollTop = currentScroll;
        });

        //幻燈片的js
       
  let slideIndex = 0;
  let autoTimer; // 儲存自動播放的定時器

  // 初始執行
  showSlides();

  // ✅ 自動播放
  function showSlides() {
    let i;
    let slides = document.getElementsByClassName("mySlides");
    let dots = document.getElementsByClassName("dot");

    for (i = 0; i < slides.length; i++) {
      slides[i].style.display = "none";
    }

    slideIndex++;
    if (slideIndex > slides.length) { slideIndex = 1 }

    for (i = 0; i < dots.length; i++) {
      dots[i].className = dots[i].className.replace(" active", "");
    }

    slides[slideIndex - 1].style.display = "block";
    dots[slideIndex - 1].className += " active";

    autoTimer = setTimeout(showSlides, 3000); // 每 3 秒自動播放
  }

  // ✅ 手動點擊箭頭（上一頁 / 下一頁）
  function plusSlides(n) {
    clearTimeout(autoTimer); // 停止自動播放
    slideIndex += n;
    if (slideIndex < 1) slideIndex = document.getElementsByClassName("mySlides").length;
    if (slideIndex > document.getElementsByClassName("mySlides").length) slideIndex = 1;
    manualShowSlides(slideIndex);
  }

  // ✅ 手動點擊圓點
  function currentSlide(n) {
    clearTimeout(autoTimer); // 停止自動播放
    slideIndex = n;
    manualShowSlides(slideIndex);
  }

  // ✅ 手動切換用：顯示特定圖片並重新啟動自動播放
  function manualShowSlides(n) {
    let i;
    let slides = document.getElementsByClassName("mySlides");
    let dots = document.getElementsByClassName("dot");

    for (i = 0; i < slides.length; i++) {
      slides[i].style.display = "none";
    }

    for (i = 0; i < dots.length; i++) {
      dots[i].className = dots[i].className.replace(" active", "");
    }

    slides[n - 1].style.display = "block";
    dots[n - 1].className += " active";

    autoTimer = setTimeout(showSlides, 3000); // 重新啟動自動播放
  }
    </script>
</body>

</html>